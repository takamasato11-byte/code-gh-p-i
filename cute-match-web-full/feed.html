<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ“ Báº£ng Tin Confess - Cute Match</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- HEADER -->
  <header>
    <span class="logo">ğŸ’˜ Cute Match</span>
    <nav>
      <a href="index.html">ğŸ  Trang Chá»§</a>
      <a href="account.html">ğŸ‘¤ TÃ i Khoáº£n</a>
      <a href="match.html">ğŸ”¥ Háº¹n HÃ²</a>
      <a href="feed.html">ğŸ“ Báº£ng Tin</a>
      <a href="chat.html">ğŸ’¬ TrÃ² Chuyá»‡n</a>
      <button id="darkModeToggle" class="theme-toggle">ğŸŒ™</button>
    </nav>
  </header>

  <main>
    <div class="container">
      <!-- POST CREATION -->
      <div class="card">
        <div class="card-header">ğŸ“ Chia Sáº» Ã NghÄ© Cá»§a Báº¡n</div>
        <form id="newPostForm">
          <div class="form-group">
            <label for="postContent">Báº¡n Ä‘ang nghÄ© gÃ¬? ğŸ’­</label>
            <textarea id="postContent" placeholder="Chia sáº» má»™t cáº£m nháº­n, suy nghÄ© hoáº·c chá»‰ nÃ³i xin chÃ o! (HÃ£y lá»‹ch sá»± ğŸ’•)" maxlength="500"></textarea>
          </div>
          <div class="form-group">
            <label for="postHashtags">ThÃªm Hashtags (cÃ¡ch nhau báº±ng dáº¥u pháº©y)</label>
            <input type="text" id="postHashtags" placeholder="#Äá»™c ThÃ¢n #Crush #Suy NghÄ© LÃºc Ná»­a ÄÃªm">
          </div>
          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" id="anonymousPost"> ğŸ‘» ÄÄƒng áº©n danh
            </label>
          </div>
          <button type="submit" class="btn full">ÄÄƒng LÃªn Báº£ng Tin</button>
        </form>
      </div>

      <!-- FILTER TABS -->
      <div class="tabs">
        <button class="tab-btn active" data-tab-filter="all">ğŸ“Œ Táº¥t Cáº£ BÃ i Viáº¿t</button>
        <button class="tab-btn" data-tab-filter="trending">ğŸ”¥ Ná»•i Báº­t</button>
        <button class="tab-btn" data-tab-filter="featured">â­ ÄÆ°á»£c Chá»n (Admin)</button>
        <button class="tab-btn" data-tab-filter="myfollowing">ğŸ‘¥ Äang Theo DÃµi</button>
      </div>

      <!-- POSTS FEED -->
      <div id="feedContainer">
        <!-- FEATURED POST -->
        <div class="post" style="border: 2px solid var(--warning); background: linear-gradient(135deg, rgba(255, 217, 61, 0.1), rgba(255, 170, 77, 0.1));">
          <div class="post-header">
            <div class="post-avatar">ğŸ‘‘</div>
            <div class="post-info">
              <div class="post-author">Lá»±a Chá»n Cá»§a Admin ğŸ‘‘</div>
              <div class="post-time">ÄÆ°á»£c Chá»n HÃ´m Nay</div>
            </div>
          </div>
          <div class="post-content">
            "Vá»«a ghÃ©p cáº·p vá»›i tÃ¬nh yÃªu cá»§a Ä‘á»i tÃ´i thÃ´ng qua Cute Match! ChÃºng tÃ´i Ä‘Ã£ á»Ÿ bÃªn nhau Ä‘Æ°á»£c 3 thÃ¡ng vÃ  tÃ´i khÃ´ng thá»ƒ háº¡nh phÃºc hÆ¡n. Náº¿u báº¡n Ä‘ang tÃ¬m kiáº¿m nhá»¯ng káº¿t ná»‘i thá»±c sá»±, Ä‘Ã¢y lÃ  nÆ¡i! ğŸ’–"
          </div>
          <div class="post-hashtags">
            <span class="hashtag">#CÃ¢uChuyá»‡nTÃ¬nh</span>
            <span class="hashtag">#CuteMatchThÃ nhCÃ´ngCÃ´ng</span>
            <span class="hashtag">#Káº¿tNá»‘iThá»±c</span>
          </div>
          <div class="post-actions">
            <div class="post-action">â¤ï¸ 1.2K ThÃ­ch</div>
            <div class="post-action">ğŸ’¬ 234 BÃ¬nh Luáº­n</div>
            <div class="post-action">ğŸ‘€ Chia Sáº»</div>
          </div>
        </div>

        <!-- SAMPLE POSTS -->
        <div class="post">
          <div class="post-header">
            <div class="post-avatar">ğŸ’­</div>
            <div class="post-info">
              <div class="post-author">NgÆ°á»i DÃ¹ng áº¨n Danh</div>
              <div class="post-time">2 giá» trÆ°á»›c</div>
            </div>
          </div>
          <div class="post-content">
            "Vá»«a chuyá»ƒn Ä‘áº¿n thÃ nh phá»‘ vÃ  tÃ¬m kiáº¿m nhá»¯ng káº¿t ná»‘i tháº­t sá»±. KhÃ´ng pháº£i tÃ¬m trÃ² chÆ¡i! HÃ£y gáº·p nhau vÃ  cÃ³ nhá»¯ng cuá»™c trÃ² chuyá»‡n thá»±c sá»± ğŸ˜Š"
          </div>
          <div class="post-hashtags">
            <span class="hashtag">#Äá»™cThÃ¢n</span>
            <span class="hashtag">#Má»›iÄáº¿nThÃ nhPhá»‘</span>
            <span class="hashtag">#TÃ¬mBáº¡n</span>
          </div>
          <div class="post-actions">
            <div class="post-action">â¤ï¸ 234 ThÃ­ch</div>
            <div class="post-action">ğŸ’¬ 12 BÃ¬nh Luáº­n</div>
            <div class="post-action">ğŸ‘€ Chia Sáº»</div>
          </div>
        </div>

        <div class="post">
          <div class="post-header">
            <div class="post-avatar">ğŸŒ™</div>
            <div class="post-info">
              <div class="post-author">NgÆ°á»i YÃªu TÆ° Duy LÃºc Ná»­a ÄÃªm</div>
              <div class="post-time">5 giá» trÆ°á»›c</div>
            </div>
          </div>
          <div class="post-content">
            "ÄÃ´i khi nhá»¯ng cuá»™c trÃ² chuyá»‡n hay nháº¥t xáº£y ra vÃ o lÃºc 2 giá» sÃ¡ng. Táº¡i sao láº¡i váº­y? CÃ³ gÃ¬ Ä‘Ã³ ká»³ diá»‡u vá» nhá»¯ng cuá»™c nÃ³i chuyá»‡n sÃ¢u vÃ o giá»¯a Ä‘Ãªm. Ai khÃ¡c cÅ©ng lÃ  ngÆ°á»i thá»©c khuya? ğŸ¦‰"
          </div>
          <div class="post-hashtags">
            <span class="hashtag">#SuyNghÄ©LÃºcNá»­aÄÃªm</span>
            <span class="hashtag">#Triáº¿t Há»c</span>
            <span class="hashtag">#Cuá»™cNÃ³iChuyá»‡nSÃ¢u</span>
          </div>
          <div class="post-actions">
            <div class="post-action">â¤ï¸ 456 ThÃ­ch</div>
            <div class="post-action">ğŸ’¬ 89 BÃ¬nh Luáº­n</div>
            <div class="post-action">ğŸ‘€ Chia Sáº»</div>
          </div>
        </div>

        <div class="post">
          <div class="post-header">
            <div class="post-avatar">ğŸ’”</div>
            <div class="post-info">
              <div class="post-author">Jane Bá»‹ Vá»¡ LÃ²ng</div>
              <div class="post-time">8 giá» trÆ°á»›c</div>
            </div>
          </div>
          <div class="post-content">
            "Lá»i ThÃº Nháº­n: TÃ´i khÃ´ng thá»ƒ ngá»«ng nghÄ© vá» crush cá»§a tÃ´i. HÃ´m nay há» cÆ°á»i vá»›i tÃ´i vÃ  tÃ´i bá»‹ lá»£n Ä‘á»©ng. ÄÃ¢y cÃ³ pháº£i lÃ  sá»± khá»Ÿi Ä‘áº§u cá»§a má»™t Ä‘iá»u ká»³ diá»‡u khÃ´ng? ğŸ˜"
          </div>
          <div class="post-hashtags">
            <span class="hashtag">#Crush</span>
            <span class="hashtag">#Láº§nÄáº§uYÃªuThÆ°Æ¡ng</span>
            <span class="hashtag">#Hy Vá»ng</span>
          </div>
          <div class="post-actions">
            <div class="post-action">â¤ï¸ 678 ThÃ­ch</div>
            <div class="post-action">ğŸ’¬ 156 BÃ¬nh Luáº­n</div>
            <div class="post-action">ğŸ‘€ Chia Sáº»</div>
          </div>
        </div>

        <div class="post">
          <div class="post-header">
            <div class="post-avatar">ğŸµ</div>
            <div class="post-info">
              <div class="post-author">Nhá»¯ng NgÆ°á»i YÃªu Ã‚m Nháº¡c Mike</div>
              <div class="post-time">12 giá» trÆ°á»›c</div>
            </div>
          </div>
          <div class="post-content">
            "TÃ¬m ai Ä‘Ã³ Ä‘á»ƒ chia sáº» playlist vá»›i! TÃ´i thÃ­ch nháº¡c indie rock, lo-fi beats vÃ  nhá»¯ng thá»© kinh Ä‘iá»ƒn tá»« nhá»¯ng nÄƒm 80. Muá»‘n cÃ¹ng nhau nghe nháº¡c khÃ´ng? ğŸ§ğŸ¶"
          </div>
          <div class="post-hashtags">
            <span class="hashtag">#Ã‚mNháº¡c</span>
            <span class="hashtag">#IndieRock</span>
            <span class="hashtag">#ChiaPlaylist</span>
          </div>
          <div class="post-actions">
            <div class="post-action">â¤ï¸ 345 ThÃ­ch</div>
            <div class="post-action">ğŸ’¬ 67 BÃ¬nh Luáº­n</div>
            <div class="post-action">ğŸ‘€ Chia Sáº»</div>
          </div>
        </div>

        <div class="post">
          <div class="post-header">
            <div class="post-avatar">âœˆï¸</div>
            <div class="post-info">
              <div class="post-author">Sara YÃªu Du Lá»‹ch</div>
              <div class="post-time">1 ngÃ y trÆ°á»›c</div>
            </div>
          </div>
          <div class="post-content">
            "Ai muá»‘n lÃ m báº¡n du lá»‹ch cho ÄÃ´ng Nam Ã? TÃ´i Ä‘ang lÃªn káº¿ hoáº¡ch cho má»™t chuyáº¿n Ä‘i 2 tuáº§n vÃ  sáº½ tuyá»‡t vá»i náº¿u Ä‘Æ°á»£c khÃ¡m phÃ¡ cÃ¹ng ngÆ°á»i vui tÃ­nh! HÃ£y táº¡o ká»· niá»‡m ğŸŒâœ¨"
          </div>
          <div class="post-hashtags">
            <span class="hashtag">#DuLá»‹ch</span>
            <span class="hashtag">#PhiÃªuLÆ°u</span>
            <span class="hashtag">#Báº¡nDuLá»‹ch</span>
          </div>
          <div class="post-actions">
            <div class="post-action">â¤ï¸ 789 ThÃ­ch</div>
            <div class="post-action">ğŸ’¬ 234 BÃ¬nh Luáº­n</div>
            <div class="post-action">ğŸ‘€ Chia Sáº»</div>
          </div>
        </div>

        <div class="post">
          <div class="post-header">
            <div class="post-avatar">ğŸ¨</div>
            <div class="post-info">
              <div class="post-author">Alex SÃ¡ng Táº¡o</div>
              <div class="post-time">1 ngÃ y trÆ°á»›c</div>
            </div>
          </div>
          <div class="post-content">
            "Vá»«a hoÃ n thÃ nh má»™t tÃ¡c pháº©m nghá»‡ thuáº­t má»›i! TÃ´i ráº¥t muá»‘n gáº·p ai Ä‘Ã³ Ä‘Ã¡nh giÃ¡ cao nghá»‡ thuáº­t vÃ  sÃ¡ng táº¡o ğŸ¨ Háº¹n uá»‘ng cÃ  phÃª táº¡i cÃ¡c phÃ²ng trÆ°ng bÃ y? ğŸ˜Š"
          </div>
          <div class="post-hashtags">
            <span class="hashtag">#Nghá»‡ Thuáº­t</span>
            <span class="hashtag">#SÃ¡ng Táº¡o</span>
            <span class="hashtag">#Háº¹nCÃ PhÃª</span>
          </div>
          <div class="post-actions">
            <div class="post-action">â¤ï¸ 512 ThÃ­ch</div>
            <div class="post-action">ğŸ’¬ 98 BÃ¬nh Luáº­n</div>
            <div class="post-action">ğŸ‘€ Chia Sáº»</div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer>
    <p>ğŸ’– Cute Match Â© 2026 | <a href="#">Quyá»n RiÃªng TÆ°</a> | <a href="#">Äiá»u Khoáº£n</a> | <a href="#">LiÃªn Há»‡</a></p>
  </footer>

  <script src="js/main.js"></script>
  <script>
    // Load and display posts
    function loadPosts() {
      const posts = DataStore.getPosts();
      const feedContainer = document.getElementById('feedContainer');
      
      if (!feedContainer) return;
      
      // Clear existing posts (except featured)
      const postElements = feedContainer.querySelectorAll('.post:not(.featured)');
      postElements.forEach(el => el.remove());
      
      // Display posts
      posts.forEach(post => {
        const postEl = document.createElement('div');
        postEl.className = 'post';
        postEl.innerHTML = `
          <div class="post-header">
            <div class="post-avatar">${post.avatar}</div>
            <div class="post-info">
              <div class="post-author">${post.author}</div>
              <div class="post-time">${timeAgo(post.createdAt)}</div>
            </div>
          </div>
          <div class="post-content">${post.content}</div>
          <div class="post-actions">
            <div class="post-action like-btn" onclick="likePost(this, ${post.id})">â¤ï¸ <span>${post.likes}</span> ThÃ­ch</div>
            <div class="post-action">ğŸ’¬ <span>0</span> BÃ¬nh Luáº­n</div>
            <div class="post-action">ğŸ‘€ Chia Sáº»</div>
          </div>
        `;
        feedContainer.appendChild(postEl);
      });
    }

    function likePost(btn, postId) {
      const posts = DataStore.getPosts();
      const post = posts.find(p => p.id === postId);
      if (post) {
        post.likes = (post.likes || 0) + 1;
        DataStore.savePosts(posts);
        const likeSpan = btn.querySelector('span');
        likeSpan.textContent = post.likes;
        btn.style.color = 'var(--primary)';
      }
    }

    // Form submission
    document.getElementById('newPostForm')?.addEventListener('submit', e => {
      e.preventDefault();
      
      const user = AuthManager.getCurrentUser();
      if (!user) {
        showNotification('Vui lÃ²ng Ä‘Äƒng nháº­p Ä‘á»ƒ táº¡o bÃ i viáº¿t', 'error');
        return;
      }
      
      const content = document.getElementById('postContent').value;
      const hashtags = document.getElementById('postHashtags').value;
      const isAnonymous = document.getElementById('anonymousPost')?.checked;

      if (!content.trim()) {
        showNotification('Vui lÃ²ng viáº¿t Ä‘iá»u gÃ¬ Ä‘Ã³! ğŸ’­', 'error');
        return;
      }

      // Create post using DataStore
      DataStore.addPost({
        content: content,
        author: isAnonymous ? 'NgÆ°á»i DÃ¹ng áº¨n Danh' : user.username,
        avatar: isAnonymous ? 'ğŸ‘»' : user.avatar,
        hashtags: hashtags.split(',').map(t => t.trim()).filter(t => t),
        location: user.location
      });

      // Clear form
      document.getElementById('newPostForm').reset();
      showNotification('BÃ i viáº¿t Ä‘Ã£ chia sáº»! ğŸ‰', 'success');
      
      // Reload posts
      loadPosts();
    });

    // Tab filters
    document.querySelectorAll('[data-tab-filter]').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('[data-tab-filter]').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const filter = btn.dataset.tabFilter;
        
        // Filter posts by type
        const posts = DataStore.getPosts();
        if (filter === 'all') {
          loadPosts();
        } else if (filter === 'featured') {
          showNotification('Bá»™ lá»c:' + filter, 'info');
        }
      });
    });

    // Initialize posts on page load
    window.addEventListener('DOMContentLoaded', loadPosts);
    window.loadPosts = loadPosts; // Make accessible from main.js
  </script>
</body>
</html>
